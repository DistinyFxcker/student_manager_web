(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45f98d80"],{"0b04":function(t,e,a){"use strict";a("59ed")},"59ed":function(t,e,a){},"5cc1":function(t,e,a){"use strict";a("757e")},"5db2":function(t,e,a){"use strict";a("9e11")},6913:function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container row-bg"},[a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v(" 注册批次 ")]),a("span",[t._v(" "+t._s(t.batch_text)+" ")])]),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v(" 报读类别 ")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"类别",size:"mini"},on:{change:t.changeEducation},model:{value:t.listQuery.education_id,callback:function(e){t.$set(t.listQuery,"education_id",e)},expression:"listQuery.education_id"}},t._l(t.educationOptions,(function(e){return a("el-option",{key:e,attrs:{label:t._f("educationText")(e),value:e}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读学校")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"学校 ",size:"mini"},on:{change:t.changeSchool},model:{value:t.listQuery.school_id,callback:function(e){t.$set(t.listQuery,"school_id",e)},expression:"listQuery.school_id"}},t._l(t.schoolOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.school_name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读层次")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"类型",size:"mini"},on:{change:t.changeLayer},model:{value:t.listQuery.layer_id,callback:function(e){t.$set(t.listQuery,"layer_id",e)},expression:"listQuery.layer_id"}},t._l(t.layerOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.layer_name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读专业")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"专业",size:"mini"},model:{value:t.listQuery.major_id,callback:function(e){t.$set(t.listQuery,"major_id",e)},expression:"listQuery.major_id"}},t._l(t.majorOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[t._v(" 注册状态 "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{size:"mini"},model:{value:t.listQuery.states,callback:function(e){t.$set(t.listQuery,"states",e)},expression:"listQuery.states"}},t._l(t.statesOptions,(function(e){return a("el-option",{key:e,attrs:{label:t._f("statusText")(e),value:e}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("姓名")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("身份证号码")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),a("div",{staticClass:"cru-col"},[t._v(" 手机号 "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1),a("div",{staticClass:"cru-col"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" 搜索 ")])],1)]),a("div",{staticClass:"custom-tool"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,size:"small",type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" Excel导出 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",size:"small",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" 证件照导出 ")]),a("el-upload",{ref:"upload",attrs:{name:"file",limit:t.limit,"auto-upload":!1,action:"/admin/upload_excel","on-exceed":t.handleExceed,"file-list":t.filelist,"on-change":t.handleChange}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{icon:"el-icon-upload",size:"small",type:"primary",disabled:t.uploadBtn.disable}},[t._v(t._s(t.uploadBtn.message))]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号",prop:"id",align:"center",width:"80"}}),a("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.username))])]}}])}),a("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticClass:"link-type"},[t._v(t._s(t._f("sexText")(i.sex)))])]}}])}),a("el-table-column",{attrs:{label:"手机号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.mobile))])]}}])}),a("el-table-column",{attrs:{label:"报读类别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("educationText")(i.education_id)))])]}}])}),a("el-table-column",{attrs:{label:"报读学校",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.school_name))])]}}])}),a("el-table-column",{attrs:{label:"报读层次",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("layerText")(i.layer_id)))])]}}])}),a("el-table-column",{attrs:{label:"报读专业",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.major_name))])]}}])}),a("el-table-column",{attrs:{label:"应收学费",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.tuition_fee))])]}}])}),a("el-table-column",{attrs:{label:"支付总金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.pay_fee))])]}}])}),a("el-table-column",{attrs:{label:"欠费金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.arrears_amount))])]}}])}),a("el-table-column",{attrs:{label:"招生老师",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.teacher_name))])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("statusText")(i.audit_status)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("router-link",{attrs:{to:{path:"/studentDetails",query:{id:i.id,type:i.education_id}}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(" 查看 ")])],1),a("router-link",{attrs:{to:{path:"/studentDetails",query:{id:i.id,type:i.education_id}}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(" 编辑 ")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)},l=[],n=a("ade3"),o=(a("b0c0"),a("1cca")),r=a("2934"),c=a("5f87"),u=a("6724"),d=(a("ed08"),a("333d")),h=a("3796"),p=Object(c["a"])(),f={name:"ZKTable",components:{Pagination:d["a"],UploadExcelComponent:h["a"]},directives:{waves:u["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:10},uploadBtn:{disable:!1,message:"导入批次准考证"},educationOptions:[0,1,2,3,4],schoolOptions:Array,layerOptions:Array,majorOptions:Array,statesOptions:[-1,2,4],arrearsOptions:[0,1,2],registrationOptions:[],studentOptions:{},temp:{},registr_time:"",projects:[{id:1,laybel:"学费",status:!1},{id:2,laybel:"教材费",status:!1},{id:3,laybel:"激活码费",status:!1},{id:4,laybel:"论文费",status:!1},{id:5,laybel:"工本费",status:!1}],reg_edit_id:null,dialogFormCollection:!1,alipay:!1,wechat:!1,batchOption:{},checkoutList:{},SelectionList:[],downloadLoading:!1,uploadloadLoading:!1,batch_id:0,batch_text:"",file:"",filename:"",limit:1,filelist:[],errmesg:[],fileList:[]}},created:function(){this.batch_id=this.$route.query.batch,this.batch_text=this.$route.query.batch_text,this.listQuery.batch_id=this.batch_id;var t=this.filterList(this.listQuery);this.getList(t)},methods:(i={getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.listLoading=!0;var a=e;a.token=p,Object(o["e"])(a).then((function(e){t.list=e.data,t.listLoading=!1,t.total=e.meta.pagination.total}))},handleFilter:function(){this.listQuery.page=1;var t=this.filterList(this.listQuery);this.getList(t)},filterList:function(t){var e={};for(var a in t)if(Object.hasOwnProperty.call(t,a)){var i=t[a];i&&(e[a]=i)}return e},changeEducation:function(t){var e=this;Object.assign({},this.listQuery);0===t?this.resetEducation():Object(r["h"])({type:t}).then((function(t){if(200==t.status_code){var a={id:0,school_name:"全部"};e.schoolOptions=t.data,e.schoolOptions.unshift(a)}}))},resetEducation:function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0}},Object(n["a"])(i,"resetEducation",(function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(i,"resetSchool",(function(){this.layerOptions=[],this.majorOptions=[],this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(i,"resetLayer",(function(){this.majorOptions=[],this.listQuery.major_id=void 0})),Object(n["a"])(i,"changeSchool",(function(t){var e=this;0===t?this.resetSchool():Object(r["c"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id}).then((function(t){if(200==t.status_code){var a={id:0,layer_name:"全部"};e.layerOptions=t.data,e.layerOptions.unshift(a)}}))})),Object(n["a"])(i,"changeLayer",(function(t){var e=this;0===t?this.resetLayer():Object(r["d"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id,layer_id:this.listQuery.layer_id}).then((function(t){if(200==t.status_code){var a={id:0,name:"全部"};e.majorOptions=t.data,e.majorOptions.unshift(a)}}))})),Object(n["a"])(i,"handleSelectionChange",(function(t){this.SelectionList=t})),Object(n["a"])(i,"handleDownload",(function(){})),Object(n["a"])(i,"handleChange",(function(t,e){t.name;if(!/\.(xlsx|xls|XLSX|XLS)$/.test(t.name))return this.$notify.error({title:"错误",message:"上传文件只能为excel文件，且为xlsx,xls格式"}),this.filelist=[],this.file="",!1;this.file=t.raw,this.filename=t.name,this.postfile()})),Object(n["a"])(i,"postfile",(function(){var t=this,e=new FormData;e.append("file",this.file),this.uploadBtn.disable=!0,this.uploadBtn.message="上传中，请等待",this.$axios.post("/admin/upload_excel",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a={token:p,excel_path:e.data.data.path};t.handleUploadExcl(a),t.filelist=[],t.btn.disable=!1})).catch((function(e){t.uploadBtn.disable=!1,t.uploadBtn.message="批量上传",t.$notify.error({title:"错误",message:"上传过程出错啦"})}))})),Object(n["a"])(i,"handleUploadExcl",(function(t){var e=this;uploadExcl(t).then((function(t){e.uploadBtn.disable=!1,e.uploadBtn.message="批量上传",e.$notify({title:"成功",message:response.data.message,type:"success"}),e.getList()})).catch((function(t){console.log("2"+t),e.uploadBtn.disable=!1,e.uploadBtn.message="批量上传",e.$notify.error({title:"错误",message:"上传过程出错啦"})}))})),Object(n["a"])(i,"handleExceed",(function(t){this.$notify.error({title:"错误",message:"只能上传一个文件哦"})})),i)},m=f,y=(a("edfe"),a("2877")),_=Object(y["a"])(m,s,l,!1,null,"c20fc0c4",null);e["default"]=_.exports},7428:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details-container"},[1==t.type?a("ZK",{attrs:{id:t.id,batch:t.batch_text},on:{"update:id":function(e){t.id=e},"update:batch":function(e){t.batch_text=e}}}):t._e(),2==t.type?a("CJ",{attrs:{id:t.id,batch:t.batch_text},on:{"update:id":function(e){t.id=e},"update:batch":function(e){t.batch_text=e}}}):t._e(),3==t.type?a("GK",{attrs:{id:t.id,batch:t.batch_text},on:{"update:id":function(e){t.id=e},"update:batch":function(e){t.batch_text=e}}}):t._e(),4==t.type?a("ZZ",{attrs:{id:t.id,batch:t.batch_text},on:{"update:id":function(e){t.id=e},"update:batch":function(e){t.batch_text=e}}}):t._e(),5==t.type?a("WJ",{attrs:{id:t.id,batch:t.batch_text},on:{"update:id":function(e){t.id=e},"update:batch":function(e){t.batch_text=e}}}):t._e()],1)},s=[],l=a("f67e"),n=a("a090"),o=a("81fb"),r=a("6913"),c=a("5046"),u={name:"EducationaTable",components:{ZK:r["default"],WJ:n["default"],ZZ:o["default"],CJ:c["default"],GK:l["default"]},data:function(){return{certificateOptions:[],type:1,id:1}},created:function(){console.log("111"),this.id=this.$route.query.batch,console.log(this.id),this.batch_text=this.$route.query.batch,this.type=this.$route.query.type}},d=u,h=(a("5cc1"),a("2877")),p=Object(h["a"])(d,i,s,!1,null,"39715de1",null);e["default"]=p.exports},"757e":function(t,e,a){},8114:function(t,e,a){},"81fb":function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container row-bg"},[a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v(" 注册批次 ")]),a("span",[t._v(" "+t._s(t.batch_text)+" ")])]),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v(" 报读类别 ")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"类别",size:"mini"},on:{change:t.changeEducation},model:{value:t.listQuery.education_id,callback:function(e){t.$set(t.listQuery,"education_id",e)},expression:"listQuery.education_id"}},t._l(t.educationOptions,(function(e){return a("el-option",{key:e,attrs:{label:t._f("educationText")(e),value:e}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读学校")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"学校 ",size:"mini"},on:{change:t.changeSchool},model:{value:t.listQuery.school_id,callback:function(e){t.$set(t.listQuery,"school_id",e)},expression:"listQuery.school_id"}},t._l(t.schoolOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.school_name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读层次")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"类型",size:"mini"},on:{change:t.changeLayer},model:{value:t.listQuery.layer_id,callback:function(e){t.$set(t.listQuery,"layer_id",e)},expression:"listQuery.layer_id"}},t._l(t.layerOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.layer_name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读专业")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"专业",size:"mini"},model:{value:t.listQuery.major_id,callback:function(e){t.$set(t.listQuery,"major_id",e)},expression:"listQuery.major_id"}},t._l(t.majorOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[t._v(" 注册状态 "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{size:"mini"},model:{value:t.listQuery.states,callback:function(e){t.$set(t.listQuery,"states",e)},expression:"listQuery.states"}},t._l(t.statesOptions,(function(e){return a("el-option",{key:e,attrs:{label:t._f("statusText")(e),value:e}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("姓名")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("身份证号码")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),a("div",{staticClass:"cru-col"},[t._v(" 手机号 "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1),a("div",{staticClass:"cru-col"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" 搜索 ")])],1)]),a("div",{staticClass:"custom-tool"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,size:"small",type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" Excel导出 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",size:"small",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" 证件照导出 ")]),a("el-upload",{ref:"upload",attrs:{name:"file",limit:t.limit,"auto-upload":!1,action:"/admin/upload_excel","on-exceed":t.handleExceed,"file-list":t.filelist,"on-change":t.handleChange}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{icon:"el-icon-upload",size:"small",type:"primary",disabled:t.uploadBtn.disable}},[t._v(t._s(t.uploadBtn.message))]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号",prop:"id",align:"center",width:"80"}}),a("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.username))])]}}])}),a("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticClass:"link-type"},[t._v(t._s(t._f("sexText")(i.sex)))])]}}])}),a("el-table-column",{attrs:{label:"手机号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.mobile))])]}}])}),a("el-table-column",{attrs:{label:"报读类别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("educationText")(i.education_id)))])]}}])}),a("el-table-column",{attrs:{label:"报读学校",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.school_name))])]}}])}),a("el-table-column",{attrs:{label:"报读层次",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("layerText")(i.layer_id)))])]}}])}),a("el-table-column",{attrs:{label:"报读专业",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.major_name))])]}}])}),a("el-table-column",{attrs:{label:"应收学费",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.tuition_fee))])]}}])}),a("el-table-column",{attrs:{label:"支付总金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.pay_fee))])]}}])}),a("el-table-column",{attrs:{label:"欠费金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.arrears_amount))])]}}])}),a("el-table-column",{attrs:{label:"招生老师",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.teacher_name))])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("statusText")(i.audit_status)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("router-link",{attrs:{to:{path:"/studentDetails",query:{id:i.id,type:i.education_id}}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(" 查看 ")])],1),a("router-link",{attrs:{to:{path:"/studentDetails",query:{id:i.id,type:i.education_id}}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(" 编辑 ")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)},l=[],n=a("ade3"),o=(a("b0c0"),a("1cca")),r=a("2934"),c=a("5f87"),u=a("6724"),d=(a("ed08"),a("333d")),h=a("3796"),p=Object(c["a"])(),f={name:"ZZTable",components:{Pagination:d["a"],UploadExcelComponent:h["a"]},directives:{waves:u["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:10},uploadBtn:{disable:!1,message:"导入批次准考证"},educationOptions:[0,1,2,3,4],schoolOptions:Array,layerOptions:Array,majorOptions:Array,statesOptions:[-1,2,4],arrearsOptions:[0,1,2],registrationOptions:[],studentOptions:{},temp:{},registr_time:"",projects:[{id:1,laybel:"学费",status:!1},{id:2,laybel:"教材费",status:!1},{id:3,laybel:"激活码费",status:!1},{id:4,laybel:"论文费",status:!1},{id:5,laybel:"工本费",status:!1}],reg_edit_id:null,dialogFormCollection:!1,alipay:!1,wechat:!1,batchOption:{},checkoutList:{},SelectionList:[],downloadLoading:!1,uploadloadLoading:!1,batch_id:0,batch_text:"",file:"",filename:"",limit:1,filelist:[],errmesg:[],fileList:[]}},created:function(){this.batch_id=this.$route.query.batch,this.batch_text=this.$route.query.batch_text,this.listQuery.batch_id=this.batch_id;var t=this.filterList(this.listQuery);this.getList(t)},methods:(i={getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.listLoading=!0;var a=e;a.token=p,Object(o["e"])(a).then((function(e){t.list=e.data,t.listLoading=!1,t.total=e.meta.pagination.total}))},handleFilter:function(){this.listQuery.page=1;var t=this.filterList(this.listQuery);this.getList(t)},filterList:function(t){var e={};for(var a in t)if(Object.hasOwnProperty.call(t,a)){var i=t[a];i&&(e[a]=i)}return e},changeEducation:function(t){var e=this;Object.assign({},this.listQuery);0===t?this.resetEducation():Object(r["h"])({type:t}).then((function(t){if(200==t.status_code){var a={id:0,school_name:"全部"};e.schoolOptions=t.data,e.schoolOptions.unshift(a)}}))},resetEducation:function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0}},Object(n["a"])(i,"resetEducation",(function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(i,"resetSchool",(function(){this.layerOptions=[],this.majorOptions=[],this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(i,"resetLayer",(function(){this.majorOptions=[],this.listQuery.major_id=void 0})),Object(n["a"])(i,"changeSchool",(function(t){var e=this;0===t?this.resetSchool():Object(r["c"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id}).then((function(t){if(200==t.status_code){var a={id:0,layer_name:"全部"};e.layerOptions=t.data,e.layerOptions.unshift(a)}}))})),Object(n["a"])(i,"changeLayer",(function(t){var e=this;0===t?this.resetLayer():Object(r["d"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id,layer_id:this.listQuery.layer_id}).then((function(t){if(200==t.status_code){var a={id:0,name:"全部"};e.majorOptions=t.data,e.majorOptions.unshift(a)}}))})),Object(n["a"])(i,"handleSelectionChange",(function(t){this.SelectionList=t})),Object(n["a"])(i,"handleDownload",(function(){})),Object(n["a"])(i,"handleChange",(function(t,e){t.name;if(!/\.(xlsx|xls|XLSX|XLS)$/.test(t.name))return this.$notify.error({title:"错误",message:"上传文件只能为excel文件，且为xlsx,xls格式"}),this.filelist=[],this.file="",!1;this.file=t.raw,this.filename=t.name,this.postfile()})),Object(n["a"])(i,"postfile",(function(){var t=this,e=new FormData;e.append("file",this.file),this.uploadBtn.disable=!0,this.uploadBtn.message="上传中，请等待",this.$axios.post("/admin/upload_excel",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a={token:p,excel_path:e.data.data.path};t.handleUploadExcl(a),t.filelist=[],t.btn.disable=!1})).catch((function(e){t.uploadBtn.disable=!1,t.uploadBtn.message="批量上传",t.$notify.error({title:"错误",message:"上传过程出错啦"})}))})),Object(n["a"])(i,"handleUploadExcl",(function(t){var e=this;uploadExcl(t).then((function(t){e.uploadBtn.disable=!1,e.uploadBtn.message="批量上传",e.$notify({title:"成功",message:response.data.message,type:"success"}),e.getList()})).catch((function(t){e.uploadBtn.disable=!1,e.uploadBtn.message="批量上传",e.$notify.error({title:"错误",message:"上传过程出错啦"})}))})),Object(n["a"])(i,"handleExceed",(function(t){this.$notify.error({title:"错误",message:"只能上传一个文件哦"})})),i)},m=f,y=(a("fe4b"),a("2877")),_=Object(y["a"])(m,s,l,!1,null,"4dca3e2d",null);e["default"]=_.exports},"9e11":function(t,e,a){},a090:function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container row-bg"},[a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v(" 注册批次 ")]),a("span",[t._v(" "+t._s(t.batch_text)+" ")])]),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v(" 报读类别 ")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"类别",size:"mini"},on:{change:t.changeEducation},model:{value:t.listQuery.education_id,callback:function(e){t.$set(t.listQuery,"education_id",e)},expression:"listQuery.education_id"}},t._l(t.educationOptions,(function(e){return a("el-option",{key:e,attrs:{label:t._f("educationText")(e),value:e}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读学校")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"学校 ",size:"mini"},on:{change:t.changeSchool},model:{value:t.listQuery.school_id,callback:function(e){t.$set(t.listQuery,"school_id",e)},expression:"listQuery.school_id"}},t._l(t.schoolOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.school_name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读层次")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"类型",size:"mini"},on:{change:t.changeLayer},model:{value:t.listQuery.layer_id,callback:function(e){t.$set(t.listQuery,"layer_id",e)},expression:"listQuery.layer_id"}},t._l(t.layerOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.layer_name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读专业")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"专业",size:"mini"},model:{value:t.listQuery.major_id,callback:function(e){t.$set(t.listQuery,"major_id",e)},expression:"listQuery.major_id"}},t._l(t.majorOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[t._v(" 注册状态 "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{size:"mini"},model:{value:t.listQuery.states,callback:function(e){t.$set(t.listQuery,"states",e)},expression:"listQuery.states"}},t._l(t.statesOptions,(function(e){return a("el-option",{key:e,attrs:{label:t._f("statusText")(e),value:e}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("姓名")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("身份证号码")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),a("div",{staticClass:"cru-col"},[t._v(" 手机号 "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1),a("div",{staticClass:"cru-col"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" 搜索 ")])],1)]),a("div",{staticClass:"custom-tool"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,size:"small",type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" Excel导出 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",size:"small",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" 证件照导出 ")]),a("el-upload",{ref:"upload",attrs:{name:"file",limit:t.limit,"auto-upload":!1,action:"/admin/upload_excel","on-exceed":t.handleExceed,"file-list":t.filelist,"on-change":t.handleChange}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{icon:"el-icon-upload",size:"small",type:"primary",disabled:t.uploadBtn.disable}},[t._v(t._s(t.uploadBtn.message))]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号",prop:"id",align:"center",width:"80"}}),a("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.username))])]}}])}),a("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticClass:"link-type"},[t._v(t._s(t._f("sexText")(i.sex)))])]}}])}),a("el-table-column",{attrs:{label:"手机号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.mobile))])]}}])}),a("el-table-column",{attrs:{label:"报读类别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("educationText")(i.education_id)))])]}}])}),a("el-table-column",{attrs:{label:"报读学校",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.school_name))])]}}])}),a("el-table-column",{attrs:{label:"报读层次",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("layerText")(i.layer_id)))])]}}])}),a("el-table-column",{attrs:{label:"报读专业",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.major_name))])]}}])}),a("el-table-column",{attrs:{label:"应收学费",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.tuition_fee))])]}}])}),a("el-table-column",{attrs:{label:"支付总金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.pay_fee))])]}}])}),a("el-table-column",{attrs:{label:"欠费金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.arrears_amount))])]}}])}),a("el-table-column",{attrs:{label:"招生老师",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.teacher_name))])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("statusText")(i.audit_status)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("router-link",{attrs:{to:{path:"/studentDetails",query:{id:i.id,type:i.education_id}}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(" 查看 ")])],1),a("router-link",{attrs:{to:{path:"/studentDetails",query:{id:i.id,type:i.education_id}}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(" 编辑 ")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)},l=[],n=a("ade3"),o=(a("b0c0"),a("1cca")),r=a("2934"),c=a("5f87"),u=a("6724"),d=(a("ed08"),a("333d")),h=a("3796"),p=Object(c["a"])(),f={name:"WJTable",components:{Pagination:d["a"],UploadExcelComponent:h["a"]},directives:{waves:u["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:10},uploadBtn:{disable:!1,message:"导入批次准考证"},educationOptions:[0,1,2,3,4],schoolOptions:Array,layerOptions:Array,majorOptions:Array,statesOptions:[-1,2,4],arrearsOptions:[0,1,2],registrationOptions:[],studentOptions:{},temp:{},registr_time:"",projects:[{id:1,laybel:"学费",status:!1},{id:2,laybel:"教材费",status:!1},{id:3,laybel:"激活码费",status:!1},{id:4,laybel:"论文费",status:!1},{id:5,laybel:"工本费",status:!1}],reg_edit_id:null,dialogFormCollection:!1,alipay:!1,wechat:!1,batchOption:{},checkoutList:{},SelectionList:[],downloadLoading:!1,uploadloadLoading:!1,batch_id:0,batch_text:"",file:"",filename:"",limit:1,filelist:[],errmesg:[],fileList:[]}},created:function(){this.batch_id=this.$route.query.batch,this.batch_text=this.$route.query.batch_text,this.listQuery.batch_id=this.batch_id;var t=this.filterList(this.listQuery);this.getList(t)},methods:(i={getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.listLoading=!0;var a=e;a.token=p,Object(o["e"])(a).then((function(e){t.list=e.data,t.listLoading=!1,t.total=e.meta.pagination.total}))},handleFilter:function(){this.listQuery.page=1;var t=this.filterList(this.listQuery);this.getList(t)},filterList:function(t){var e={};for(var a in t)if(Object.hasOwnProperty.call(t,a)){var i=t[a];i&&(e[a]=i)}return e},changeEducation:function(t){var e=this;Object.assign({},this.listQuery);0===t?this.resetEducation():Object(r["h"])({type:t}).then((function(t){if(200==t.status_code){var a={id:0,school_name:"全部"};e.schoolOptions=t.data,e.schoolOptions.unshift(a)}}))},resetEducation:function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0}},Object(n["a"])(i,"resetEducation",(function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(i,"resetSchool",(function(){this.layerOptions=[],this.majorOptions=[],this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(i,"resetLayer",(function(){this.majorOptions=[],this.listQuery.major_id=void 0})),Object(n["a"])(i,"changeSchool",(function(t){var e=this;0===t?this.resetSchool():Object(r["c"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id}).then((function(t){if(200==t.status_code){var a={id:0,layer_name:"全部"};e.layerOptions=t.data,e.layerOptions.unshift(a)}}))})),Object(n["a"])(i,"changeLayer",(function(t){var e=this;0===t?this.resetLayer():Object(r["d"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id,layer_id:this.listQuery.layer_id}).then((function(t){if(200==t.status_code){var a={id:0,name:"全部"};e.majorOptions=t.data,e.majorOptions.unshift(a)}}))})),Object(n["a"])(i,"handleSelectionChange",(function(t){this.SelectionList=t})),Object(n["a"])(i,"handleDownload",(function(){})),Object(n["a"])(i,"handleChange",(function(t,e){t.name;if(!/\.(xlsx|xls|XLSX|XLS)$/.test(t.name))return this.$notify.error({title:"错误",message:"上传文件只能为excel文件，且为xlsx,xls格式"}),this.filelist=[],this.file="",!1;this.file=t.raw,this.filename=t.name,this.postfile()})),Object(n["a"])(i,"postfile",(function(){var t=this,e=new FormData;e.append("file",this.file),this.uploadBtn.disable=!0,this.uploadBtn.message="上传中，请等待",this.$axios.post("/admin/upload_excel",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a={token:p,excel_path:e.data.data.path};t.handleUploadExcl(a),t.filelist=[],t.btn.disable=!1})).catch((function(e){t.uploadBtn.disable=!1,t.uploadBtn.message="批量上传",t.$notify.error({title:"错误",message:"上传过程出错啦"})}))})),Object(n["a"])(i,"handleUploadExcl",(function(t){var e=this;uploadExcl(t).then((function(t){e.uploadBtn.disable=!1,e.uploadBtn.message="批量上传",e.$notify({title:"成功",message:response.data.message,type:"success"}),e.getList()})).catch((function(t){e.uploadBtn.disable=!1,e.uploadBtn.message="批量上传",e.$notify.error({title:"错误",message:"上传过程出错啦"})}))})),Object(n["a"])(i,"handleExceed",(function(t){this.$notify.error({title:"错误",message:"只能上传一个文件哦"})})),i)},m=f,y=(a("0b04"),a("2877")),_=Object(y["a"])(m,s,l,!1,null,"21c78b8d",null);e["default"]=_.exports},d2c4:function(t,e,a){},edfe:function(t,e,a){"use strict";a("d2c4")},f67e:function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container row-bg"},[a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v(" 注册批次 ")]),a("span",[t._v(" "+t._s(t.batch_text)+" ")])]),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v(" 报读类别 ")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"类别",size:"mini"},on:{change:t.changeEducation},model:{value:t.listQuery.education_id,callback:function(e){t.$set(t.listQuery,"education_id",e)},expression:"listQuery.education_id"}},t._l(t.educationOptions,(function(e){return a("el-option",{key:e,attrs:{label:t._f("educationText")(e),value:e}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读学校")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"学校 ",size:"mini"},on:{change:t.changeSchool},model:{value:t.listQuery.school_id,callback:function(e){t.$set(t.listQuery,"school_id",e)},expression:"listQuery.school_id"}},t._l(t.schoolOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.school_name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读层次")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"类型",size:"mini"},on:{change:t.changeLayer},model:{value:t.listQuery.layer_id,callback:function(e){t.$set(t.listQuery,"layer_id",e)},expression:"listQuery.layer_id"}},t._l(t.layerOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.layer_name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("报读专业")]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"专业",size:"mini"},model:{value:t.listQuery.major_id,callback:function(e){t.$set(t.listQuery,"major_id",e)},expression:"listQuery.major_id"}},t._l(t.majorOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("div",{staticClass:"cru-col"},[t._v(" 注册状态 "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{size:"mini"},model:{value:t.listQuery.states,callback:function(e){t.$set(t.listQuery,"states",e)},expression:"listQuery.states"}},t._l(t.statesOptions,(function(e){return a("el-option",{key:e,attrs:{label:t._f("statusText")(e),value:e}})})),1)],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("姓名")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),a("div",{staticClass:"cru-col"},[a("span",{staticClass:"search-label"},[t._v("身份证号码")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),a("div",{staticClass:"cru-col"},[t._v(" 手机号 "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1),a("div",{staticClass:"cru-col"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" 搜索 ")])],1)]),a("div",{staticClass:"custom-tool"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,size:"small",type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" Excel导出 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",size:"small",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" 证件照导出 ")]),a("el-upload",{ref:"upload",attrs:{name:"file",limit:t.limit,"auto-upload":!1,action:"/admin/upload_excel","on-exceed":t.handleExceed,"file-list":t.filelist,"on-change":t.handleChange}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{icon:"el-icon-upload",size:"small",type:"primary",disabled:t.uploadBtn.disable}},[t._v(t._s(t.uploadBtn.message))]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号",prop:"id",align:"center",width:"80"}}),a("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.username))])]}}])}),a("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticClass:"link-type"},[t._v(t._s(t._f("sexText")(i.sex)))])]}}])}),a("el-table-column",{attrs:{label:"手机号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.mobile))])]}}])}),a("el-table-column",{attrs:{label:"报读类别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("educationText")(i.education_id)))])]}}])}),a("el-table-column",{attrs:{label:"报读学校",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.school_name))])]}}])}),a("el-table-column",{attrs:{label:"报读层次",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("layerText")(i.layer_id)))])]}}])}),a("el-table-column",{attrs:{label:"报读专业",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.major_name))])]}}])}),a("el-table-column",{attrs:{label:"应收学费",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.tuition_fee))])]}}])}),a("el-table-column",{attrs:{label:"支付总金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.pay_fee))])]}}])}),a("el-table-column",{attrs:{label:"欠费金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.arrears_amount))])]}}])}),a("el-table-column",{attrs:{label:"招生老师",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.teacher_name))])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("statusText")(i.audit_status)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("router-link",{attrs:{to:{path:"/studentDetails",query:{id:i.id,type:i.education_id}}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(" 查看 ")])],1),a("router-link",{attrs:{to:{path:"/studentDetails",query:{id:i.id,type:i.education_id}}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(" 编辑 ")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)},l=[],n=a("ade3"),o=(a("b0c0"),a("1cca")),r=a("2934"),c=a("5f87"),u=a("6724"),d=(a("ed08"),a("333d")),h=a("3796"),p=Object(c["a"])(),f={name:"GKTable",components:{Pagination:d["a"],UploadExcelComponent:h["a"]},directives:{waves:u["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:10},uploadBtn:{disable:!1,message:"导入批次准考证"},educationOptions:[0,1,2,3,4],schoolOptions:Array,layerOptions:Array,majorOptions:Array,statesOptions:[-1,2,4],arrearsOptions:[0,1,2],registrationOptions:[],studentOptions:{},temp:{},registr_time:"",projects:[{id:1,laybel:"学费",status:!1},{id:2,laybel:"教材费",status:!1},{id:3,laybel:"激活码费",status:!1},{id:4,laybel:"论文费",status:!1},{id:5,laybel:"工本费",status:!1}],reg_edit_id:null,dialogFormCollection:!1,alipay:!1,wechat:!1,batchOption:{},checkoutList:{},SelectionList:[],downloadLoading:!1,uploadloadLoading:!1,batch_id:0,batch_text:"",file:"",filename:"",limit:1,filelist:[],errmesg:[],fileList:[]}},created:function(){this.batch_id=this.$route.query.batch,this.batch_text=this.$route.query.batch_text,this.listQuery.batch_id=this.batch_id;var t=this.filterList(this.listQuery);this.getList(t)},methods:(i={getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.listLoading=!0;var a=e;a.token=p,Object(o["e"])(a).then((function(e){t.list=e.data,t.listLoading=!1,t.total=e.meta.pagination.total}))},handleFilter:function(){this.listQuery.page=1;var t=this.filterList(this.listQuery);this.getList(t)},filterList:function(t){var e={};for(var a in t)if(Object.hasOwnProperty.call(t,a)){var i=t[a];i&&(e[a]=i)}return e},changeEducation:function(t){var e=this;Object.assign({},this.listQuery);0===t?this.resetEducation():Object(r["h"])({type:t}).then((function(t){if(200==t.status_code){var a={id:0,school_name:"全部"};e.schoolOptions=t.data,e.schoolOptions.unshift(a)}}))},resetEducation:function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0}},Object(n["a"])(i,"resetEducation",(function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(i,"resetSchool",(function(){this.layerOptions=[],this.majorOptions=[],this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(i,"resetLayer",(function(){this.majorOptions=[],this.listQuery.major_id=void 0})),Object(n["a"])(i,"changeSchool",(function(t){var e=this;0===t?this.resetSchool():Object(r["c"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id}).then((function(t){if(200==t.status_code){var a={id:0,layer_name:"全部"};e.layerOptions=t.data,e.layerOptions.unshift(a)}}))})),Object(n["a"])(i,"changeLayer",(function(t){var e=this;0===t?this.resetLayer():Object(r["d"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id,layer_id:this.listQuery.layer_id}).then((function(t){if(200==t.status_code){var a={id:0,name:"全部"};e.majorOptions=t.data,e.majorOptions.unshift(a)}}))})),Object(n["a"])(i,"handleSelectionChange",(function(t){this.SelectionList=t})),Object(n["a"])(i,"handleDownload",(function(){})),Object(n["a"])(i,"handleChange",(function(t,e){t.name;if(!/\.(xlsx|xls|XLSX|XLS)$/.test(t.name))return this.$notify.error({title:"错误",message:"上传文件只能为excel文件，且为xlsx,xls格式"}),this.filelist=[],this.file="",!1;this.file=t.raw,this.filename=t.name,this.postfile()})),Object(n["a"])(i,"postfile",(function(){var t=this,e=new FormData;e.append("file",this.file),this.uploadBtn.disable=!0,this.uploadBtn.message="上传中，请等待",this.$axios.post("/admin/upload_excel",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a={token:p,excel_path:e.data.data.path};t.handleUploadExcl(a),t.filelist=[],t.btn.disable=!1})).catch((function(e){t.uploadBtn.disable=!1,t.uploadBtn.message="批量上传",t.$notify.error({title:"错误",message:"上传过程出错啦"})}))})),Object(n["a"])(i,"handleUploadExcl",(function(t){var e=this;uploadExcl(t).then((function(t){e.uploadBtn.disable=!1,e.uploadBtn.message="批量上传",e.$notify({title:"成功",message:response.data.message,type:"success"}),e.getList()})).catch((function(t){e.uploadBtn.disable=!1,e.uploadBtn.message="批量上传",e.$notify.error({title:"错误",message:"上传过程出错啦"})}))})),Object(n["a"])(i,"handleExceed",(function(t){this.$notify.error({title:"错误",message:"只能上传一个文件哦"})})),i)},m=f,y=(a("5db2"),a("2877")),_=Object(y["a"])(m,s,l,!1,null,"e02212a6",null);e["default"]=_.exports},fe4b:function(t,e,a){"use strict";a("8114")}}]);