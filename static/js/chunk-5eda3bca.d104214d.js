(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5eda3bca"],{"272a":function(t,e,i){},4328:function(t,e,i){"use strict";i.r(e);var a,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"cru-col"},[i("span",{staticClass:"label-screen"},[t._v("注册批次")]),i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},model:{value:t.listQuery.states,callback:function(e){t.$set(t.listQuery,"states",e)},expression:"listQuery.states"}},t._l(t.statesOptions,(function(e){return i("el-option",{key:e,attrs:{label:t._f("statusText")(e),value:e}})})),1)],1),i("div",{staticClass:"cru-col"},[i("span",{staticClass:"label-screen"},[t._v("报读学历类别")]),i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:"请输入",clearable:""},on:{change:t.changeEducation},model:{value:t.listQuery.education_id,callback:function(e){t.$set(t.listQuery,"education_id",e)},expression:"listQuery.education_id"}},t._l(t.educationOptions,(function(e){return i("el-option",{key:e,attrs:{label:t._f("educationText")(e),value:e}})})),1)],1),i("div",{staticClass:"cru-col"},[i("span",{staticClass:"label-screen"},[t._v("报读学校")]),i("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{placeholder:"类型 ",clearable:""},on:{change:t.changeSchool},model:{value:t.listQuery.school_id,callback:function(e){t.$set(t.listQuery,"school_id",e)},expression:"listQuery.school_id"}},t._l(t.schoolOptions,(function(t){return i("el-option",{key:t.id,attrs:{label:t.school_name,value:t.id}})})),1)],1),i("div",{staticClass:"cru-col"},[i("span",{staticClass:"label-screen"},[t._v("报读层次")]),i("el-select",{staticClass:"filter-item",staticStyle:{width:"140px"},on:{change:t.changeLayer},model:{value:t.listQuery.layer_id,callback:function(e){t.$set(t.listQuery,"layer_id",e)},expression:"listQuery.layer_id"}},t._l(t.layerOptions,(function(t){return i("el-option",{key:t.id,attrs:{label:t.layer_name,value:t.id}})})),1)],1),i("div",{staticClass:"cru-col"},[i("span",{staticClass:"label-screen"},[t._v("报读专业")]),i("el-select",{staticClass:"filter-item",staticStyle:{width:"140px"},model:{value:t.listQuery.major_id,callback:function(e){t.$set(t.listQuery,"major_id",e)},expression:"listQuery.major_id"}},t._l(t.majorOptions,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),i("div",{staticClass:"cru-col"},[i("span",{staticClass:"label-screen"},[t._v("招生老师")]),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.teacher_name,callback:function(e){t.$set(t.listQuery,"teacher_name",e)},expression:"listQuery.teacher_name"}})],1),i("div",{staticClass:"cru-col"},[i("span",{staticClass:"label-screen"},[t._v("姓名")]),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),i("div",{staticClass:"cru-col"},[i("span",{staticClass:"label-screen"},[t._v("手机号")]),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1),i("div",{staticClass:"cru-col"},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" 搜索 ")])],1)]),i("div",{staticClass:"custom-tool"},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" Excel导出 ")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"标识",prop:"id",align:"center",width:"80",type:"index"}}),i("el-table-column",{attrs:{label:"已注册批次",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.username))])]}}])}),i("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.username))])]}}])}),i("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",{staticClass:"link-type"},[t._v(t._s(t._f("sexText")(a.sex)))])]}}])}),i("el-table-column",{attrs:{label:"身份证",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.mobile))])]}}])}),i("el-table-column",{attrs:{label:"手机号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.mobile))])]}}])}),i("el-table-column",{attrs:{label:"报读类别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(t._f("educationText")(a.education_id)))])]}}])}),i("el-table-column",{attrs:{label:"报读学校",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.school_name))])]}}])}),i("el-table-column",{attrs:{label:"报读层次",width:"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(t._f("layerText")(a.layer_id)))])]}}])}),i("el-table-column",{attrs:{label:"报读专业",width:"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.major_name))])]}}])}),i("el-table-column",{attrs:{label:"学费总额",width:"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.tuition_fee))])]}}])}),i("el-table-column",{attrs:{label:"实收学费",width:"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.tuition_fee))])]}}])}),i("el-table-column",{attrs:{label:"欠费金额",width:"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.pay_total))])]}}])}),i("el-table-column",{attrs:{label:"招生老师",width:"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.teacher_name))])]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"120",fixed:"right","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(a)}}},[t._v(" 发起收款 ")])]}}])})],1),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),i("el-dialog",{attrs:{title:"发起收款",center:!0,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("Studentinfo",{attrs:{studentOptions:t.studentOptions},on:{"update:studentOptions":function(e){t.studentOptions=e},"update:student-options":function(e){t.studentOptions=e}}}),i("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.temp,"label-position":"left"}},[i("el-row",[i("el-col",[i("span",{staticClass:"label"},[t._v("应收学费总额")]),i("el-input",{staticStyle:{"max-width":"200px"},attrs:{size:"mini",placeholder:"请输入内容",type:"number"},model:{value:t.tuition,callback:function(e){t.tuition=e},expression:"tuition"}})],1)],1),i("el-row",[i("el-col",[i("span",{staticClass:"label"},[t._v("支付方式")]),i("el-checkbox",{attrs:{label:"支付宝"},on:{change:function(e){return t.handleCheckPay("alipay")}},model:{value:t.alipay,callback:function(e){t.alipay=e},expression:"alipay"}},[t._v("支付宝")]),i("el-checkbox",{attrs:{label:"微信"},on:{change:function(e){return t.handleCheckPay("wechat")}},model:{value:t.wechat,callback:function(e){t.wechat=e},expression:"wechat"}},[t._v("微信")])],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(" 关闭 ")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.createQr()}}},[t._v(" 生成二维码 ")])],1)],1)],1)},l=[],n=i("ade3"),r=(i("d81d"),i("c740"),i("a434"),i("4de4"),i("e7de")),o=i("2934"),c=i("6724"),u=i("333d"),d=i("13a8"),p=i("ed08"),f=i("5f87"),h=Object(f["a"])(),y={name:"PredictionTable",components:{Pagination:u["a"],Studentinfo:d["default"]},directives:{waves:c["a"]},filters:{statusFilter:function(t){var e={published:"success",draft:"info",deleted:"danger"};return e[t]},typeFilter:function(t){return calendarTypeKeyValue[t]}},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:10,username:void 0,mobile:void 0,states:void 0,arrears:void 0,education_id:void 0,school_id:void 0,layer_id:void 0,major_id:void 0},educationOptions:[0,1,2,3,4],schoolOptions:Array,layerOptions:Array,majorOptions:Array,statesOptions:[0,3,4,5],arrearsOptions:[0,1,2],registrationOptions:[],studentOptions:{},temp:{},dialogFormVisible:!1,dialogDetilsVisible:!1,downloadLoading:!1,rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},projects:[{id:1,laybel:"学费",status:!1},{id:2,laybel:"教材费",status:!1},{id:3,laybel:"激活码费",status:!1},{id:4,laybel:"论文费",status:!1},{id:5,laybel:"工本费",status:!1}],remakList:[{text:"",isshow:!0}],registrationList:[{id:2,text:"预注册"},{id:3,text:"预报名"}],bill_no:"",registrtion:2,alipay:!1,wechat:!1,tuition:null}},created:function(){this.getList()},methods:(a={getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.listLoading=!0;var i=e;i.token=h,i.audit_status=4,Object(r["i"])(i).then((function(e){t.list=e.data,t.listLoading=!1,t.total=e.meta.pagination.total}))},createQr:function(t){var e=this;this.temp=Object(p["a"])(t),this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate(),e.studentOptions=e.temp}))},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){if(e){var i=t.remakList.map((function(t){return t.text})),a={remak:i,bill_no:t.bill_no,audit_status:t.registrtion,token:h,reg_edit_id:t.temp.id};fetchFinancialAudit(a).then((function(){var e=t.list.findIndex((function(e){return e.id===t.temp.id}));t.list.splice(e,1,t.temp),t.dialogFormVisible=!1,t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})}))}}))},handleCheckPay:function(t){"alipay"===t?this.alipay&&(this.wechat=!1):this.wechat&&(this.alipay=!1)},handleFilter:function(){this.listQuery.page=1;var t=this.filterList(this.listQuery);this.getList(t)},filterList:function(t){var e={};for(var i in t)if(Object.hasOwnProperty.call(t,i)){var a=t[i];a&&(e[i]=a)}return e},projectsFilter:function(t){this.projects=this.projects.map((function(e){e.status=!1;var i=t.filter((function(t){return t==e.id}))[0];return i==e.id&&(e.status=!0),e}))},changeEducation:function(t){var e=this;Object.assign({},this.listQuery);0===t?this.resetEducation():Object(o["h"])({type:t}).then((function(t){if(200==t.status_code){var i={id:0,school_name:"全部"};e.schoolOptions=t.data,e.schoolOptions.unshift(i)}}))},resetEducation:function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0}},Object(n["a"])(a,"resetEducation",(function(){this.schoolOptions=[],this.layerOptions=[],this.majorOptions=[],this.listQuery.education_id=0,this.listQuery.school_id=void 0,this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(a,"resetSchool",(function(){this.layerOptions=[],this.majorOptions=[],this.listQuery.layer_id=void 0,this.listQuery.major_id=void 0})),Object(n["a"])(a,"resetLayer",(function(){this.majorOptions=[],this.listQuery.major_id=void 0})),Object(n["a"])(a,"changeSchool",(function(t){var e=this;0===t?this.resetSchool():Object(o["c"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id}).then((function(t){if(200==t.status_code){var i={id:0,layer_name:"全部"};e.layerOptions=t.data,e.layerOptions.unshift(i),console.log(e.layerOptions)}}))})),Object(n["a"])(a,"changeLayer",(function(t){var e=this;0===t?this.resetLayer():Object(o["d"])({type:this.listQuery.education_id,school_id:this.listQuery.school_id,layer_id:this.listQuery.layer_id}).then((function(t){if(200==t.status_code){var i={id:0,name:"全部"};e.majorOptions=t.data,e.majorOptions.unshift(i)}}))})),Object(n["a"])(a,"handleDownload",(function(){})),a)},m=y,v=(i("9842"),i("2877")),_=Object(v["a"])(m,s,l,!1,null,"09e7e300",null);e["default"]=_.exports},6136:function(t,e,i){},9842:function(t,e,i){"use strict";i("6136")},bd0c:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"预注册",name:"first"}},[t.isChildUpdate?i("Prediction"):t._e()],1),i("el-tab-pane",{attrs:{label:"已注册",name:"two"}},[t.isChildUpdate?t._e():i("Registered")],1)],1)],1)},s=[],l=i("f780"),n=i("4328"),r={name:"ArrearsTable",components:{Prediction:l["default"],Registered:n["default"]},data:function(){return{activeName:"first",isChildUpdate:!0}},methods:{handleClick:function(){this.isChildUpdate=!this.isChildUpdate}}},o=r,c=(i("f69a"),i("2877")),u=Object(c["a"])(o,a,s,!1,null,"16a44d22",null);e["default"]=u.exports},f69a:function(t,e,i){"use strict";i("272a")}}]);